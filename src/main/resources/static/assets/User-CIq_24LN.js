import{m as k,r as y,o as g,c as w,g as i,h as a,i as t,e as B,k as d,f as r,j as n,n as l,d as N,u as V,p as A}from"./index-CpKDPpXK.js";const C={class:"container"},b={class:"sidebar"},M={class:"content"},j={__name:"User",setup(R){const m=V(),c=A(),f=k(()=>c.path),_=s=>{m.push(s)},u=y(!1),p=async()=>{try{const s=await B.get("/api/users/isAdmin");u.value=s.data}catch(s){console.error("获取管理员状态失败",s)}};return g(()=>{p()}),(s,e)=>{const o=d("el-menu-item"),v=d("el-menu"),x=d("router-view");return r(),w("div",C,[i("div",b,[e[6]||(e[6]=i("h2",{class:"mb-2"},"个人信息",-1)),a(v,{"default-active":f.value,class:"el-menu-vertical-demo",onSelect:_},{default:t(()=>[a(o,{index:"/user"},{default:t(()=>e[0]||(e[0]=[n("用户信息")])),_:1}),u.value?(r(),l(o,{key:0,index:"/articles"},{default:t(()=>e[1]||(e[1]=[n("文章列表")])),_:1})):(r(),l(o,{key:1,index:"/userart"},{default:t(()=>e[2]||(e[2]=[n("我的文章")])),_:1})),a(o,{index:"/favorites"},{default:t(()=>e[3]||(e[3]=[n("收藏列表")])),_:1}),a(o,{index:"/edit"},{default:t(()=>e[4]||(e[4]=[n("修改用户信息")])),_:1}),u.value?(r(),l(o,{key:2,index:"/management"},{default:t(()=>e[5]||(e[5]=[n("用户管理")])),_:1})):N("",!0)]),_:1},8,["default-active"])]),i("div",M,[a(x)])])}}};export{j as default};
